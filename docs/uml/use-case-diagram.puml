@startuml MedFlow_Use_Case_Diagram
!theme plain
skinparam linetype ortho
left to right direction

title MedFlow - Diagramme de Cas d'Utilisation Global

' ============================================
' ACTEURS (Alignés verticalement à gauche)
' ============================================
actor "SuperAdmin" as SuperAdmin #FF6B6B
actor "Admin" as Admin #4ECDC4
actor "Doctor" as Doctor #95E1D3
actor "Receptionist" as Receptionist #F38181
actor "Patient" as Patient #AA96DA

' Organisation verticale des acteurs
SuperAdmin -[hidden]down- Admin
Admin -[hidden]down- Doctor
Doctor -[hidden]down- Receptionist
Receptionist -[hidden]down- Patient

' ============================================
' USE CASES (Organisés au centre/droite)
' ============================================

' Authentification
usecase "Se connecter" as UC_Login
usecase "Se déconnecter" as UC_Logout
usecase "S'inscrire" as UC_Register

' Gestion des Cliniques
usecase "Créer Clinique" as UC_CreateClinic
usecase "Modifier Clinique" as UC_UpdateClinic
usecase "Supprimer Clinique" as UC_DeleteClinic
usecase "Voir Cliniques" as UC_ViewClinics

' Gestion des Utilisateurs
usecase "Créer Admin" as UC_CreateAdmin
usecase "Créer Doctor" as UC_CreateDoctor
usecase "Créer Receptionist" as UC_CreateReceptionist
usecase "Modifier Doctor" as UC_UpdateDoctor
usecase "Supprimer Doctor" as UC_DeleteDoctor
usecase "Voir Doctors" as UC_ViewDoctors
usecase "Voir Patients" as UC_ViewPatients
usecase "Enregistrer Patient" as UC_RegisterPatient

' Gestion des Horaires
usecase "Créer Schedule" as UC_CreateSchedule
usecase "Modifier Schedule" as UC_UpdateSchedule
usecase "Supprimer Schedule" as UC_DeleteSchedule
usecase "Voir mon Schedule" as UC_ViewMySchedule
usecase "Voir créneaux disponibles" as UC_ViewAvailableSlots

' Gestion des Rendez-vous
usecase "Prendre Rendez-vous" as UC_CreateAppointment
usecase "Voir Appointments" as UC_ViewAppointments
usecase "Voir mes Appointments" as UC_ViewMyAppointments
usecase "Modifier Appointment" as UC_UpdateAppointment
usecase "Supprimer Appointment" as UC_DeleteAppointment
usecase "Modifier statut Appointment" as UC_UpdateStatus
usecase "Annuler Appointment" as UC_CancelAppointment

' Gestion Médicale
usecase "Créer Dossier Médical" as UC_CreateMedicalRecord
usecase "Modifier Dossier Médical" as UC_UpdateMedicalRecord
usecase "Voir Dossiers Médicaux" as UC_ViewMedicalRecords
usecase "Créer Prescription" as UC_CreatePrescription
usecase "Voir Prescriptions" as UC_ViewPrescriptions
usecase "Voir mes Prescriptions" as UC_ViewMyPrescriptions
usecase "Télécharger Prescription PDF" as UC_DownloadPrescriptionPDF

' Gestion Financière
usecase "Créer Invoice" as UC_CreateInvoice
usecase "Voir Invoices" as UC_ViewInvoices
usecase "Voir mes Invoices" as UC_ViewMyInvoices
usecase "Ajouter Paiement" as UC_AddPayment
usecase "Payer Invoice" as UC_PayInvoice
usecase "Télécharger Invoice PDF" as UC_DownloadInvoicePDF

' Communication
usecase "Envoyer Message" as UC_SendMessage
usecase "Voir Messages" as UC_ViewMessages
usecase "Répondre Message" as UC_ReplyMessage

' ============================================
' RELATIONS <<include>> (Authentification)
' ============================================
UC_CreateClinic ..> UC_Login : <<include>>
UC_UpdateClinic ..> UC_Login : <<include>>
UC_DeleteClinic ..> UC_Login : <<include>>
UC_CreateAdmin ..> UC_Login : <<include>>
UC_CreateDoctor ..> UC_Login : <<include>>
UC_CreateReceptionist ..> UC_Login : <<include>>
UC_CreateSchedule ..> UC_Login : <<include>>
UC_CreateAppointment ..> UC_Login : <<include>>
UC_CreateMedicalRecord ..> UC_Login : <<include>>
UC_CreatePrescription ..> UC_Login : <<include>>
UC_CreateInvoice ..> UC_Login : <<include>>
UC_SendMessage ..> UC_Login : <<include>>

' ============================================
' RELATIONS SUPERADMIN
' ============================================
SuperAdmin --> UC_Login
SuperAdmin --> UC_Logout
SuperAdmin --> UC_CreateClinic
SuperAdmin --> UC_UpdateClinic
SuperAdmin --> UC_DeleteClinic
SuperAdmin --> UC_ViewClinics
SuperAdmin --> UC_CreateAdmin
SuperAdmin --> UC_CreateDoctor
SuperAdmin --> UC_UpdateDoctor
SuperAdmin --> UC_DeleteDoctor
SuperAdmin --> UC_ViewDoctors
SuperAdmin --> UC_ViewPatients
SuperAdmin --> UC_ViewAppointments
SuperAdmin --> UC_ViewMessages

' ============================================
' RELATIONS ADMIN
' ============================================
Admin --> UC_Login
Admin --> UC_Logout
Admin --> UC_CreateDoctor
Admin --> UC_CreateReceptionist
Admin --> UC_UpdateDoctor
Admin --> UC_DeleteDoctor
Admin --> UC_ViewDoctors
Admin --> UC_ViewPatients
Admin --> UC_CreateAppointment
Admin --> UC_ViewAppointments
Admin --> UC_UpdateAppointment
Admin --> UC_DeleteAppointment
Admin --> UC_CreateInvoice
Admin --> UC_ViewInvoices
Admin --> UC_AddPayment
Admin --> UC_ViewMessages

' ============================================
' RELATIONS DOCTOR
' ============================================
Doctor --> UC_Login
Doctor --> UC_Logout
Doctor --> UC_CreateSchedule
Doctor --> UC_UpdateSchedule
Doctor --> UC_DeleteSchedule
Doctor --> UC_ViewMySchedule
Doctor --> UC_ViewAppointments
Doctor --> UC_UpdateStatus
Doctor --> UC_CreateMedicalRecord
Doctor --> UC_UpdateMedicalRecord
Doctor --> UC_ViewMedicalRecords
Doctor --> UC_CreatePrescription
Doctor --> UC_ViewPrescriptions
Doctor --> UC_DownloadPrescriptionPDF

' ============================================
' RELATIONS RECEPTIONIST
' ============================================
Receptionist --> UC_Login
Receptionist --> UC_Logout
Receptionist --> UC_RegisterPatient
Receptionist --> UC_ViewPatients
Receptionist --> UC_ViewDoctors
Receptionist --> UC_CreateAppointment
Receptionist --> UC_ViewAppointments
Receptionist --> UC_UpdateAppointment
Receptionist --> UC_DeleteAppointment
Receptionist --> UC_CreateInvoice
Receptionist --> UC_ViewInvoices
Receptionist --> UC_AddPayment
Receptionist --> UC_DownloadInvoicePDF
Receptionist --> UC_SendMessage
Receptionist --> UC_ViewMessages
Receptionist --> UC_ReplyMessage

' ============================================
' RELATIONS PATIENT
' ============================================
Patient --> UC_Register
Patient --> UC_Login
Patient --> UC_Logout
Patient --> UC_CreateAppointment
Patient --> UC_ViewMyAppointments
Patient --> UC_CancelAppointment
Patient --> UC_ViewAvailableSlots
Patient --> UC_ViewMyPrescriptions
Patient --> UC_DownloadPrescriptionPDF
Patient --> UC_ViewMyInvoices
Patient --> UC_PayInvoice
Patient --> UC_DownloadInvoicePDF

@enduml
